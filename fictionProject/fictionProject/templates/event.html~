{% extends "base.html" %}
{% block js %}
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/script.js"></script>
{% endblock %}
{% block content %}<span style="display:none;" id="path">{{ path }}</span>
<a href="{% url piece p_pk %}">
  {{ pieceTitle }}
</a>
<h2>Event</h2>
<input type="text" value="{{ event.name }}" id="update_e_name" name="update_e_name"/>
<button  id="e_name_submit">Update</button>
<h3>Description</h3>
<textarea id="update_e_description"rows="4" cols="60">{{ event.description }}</textarea>
<button id="e_description_submit">Update</button>
<h3>Characters Involved</h3>
<ul id="chars_in_event_ul">
  {% for character in characters %}
  <li class="char_name_event">
    <span class="first_name">{{ character.first_name }} </span>
    {% if character.middle_name %} 
    <span class="middle_name">{{ character.middle_name }} </span> 
    {% endif %} 
    <span class="last_name">{{ character.last_name }}</span>
    <button class="remove_char_event">Remove from event</button>
  </li>
  {% empty %}
  <li>
    Aww...no characters? Yet, there is an event...
  </li>
  {% endfor %}
</ul>
<hr>
<h3>All Characters in {{ pieceTitle }}</h3>
<ul id="chars_not_in_event_ul">
  {% for character in allCharacters %}
  {% if not character in characters %}
  <li class="char_name_piece">
    <span class="first_name">{{ character.first_name }} </span>
    {% if character.middle_name %}
    <span class="middle_name">{{ character.middle_name }} </span>
    {% endif %}
    <span class="last_name">{{ character.last_name }}</span>
    <button class="add_char_event">Add to event</button>
  </li>
  {% endif %}
  {% endfor %}
</ul>
{% endblock %}
